test_res <- recover_types(dummy_fun)
source('C:/Users/juraj/git_hub/recovery/R/recover_types.R')
test_res <- recover_types(dummy_fun)
source('C:/Users/juraj/git_hub/recovery/R/recover_types.R')
test_res <- recover_types(dummy_fun)
View(test_res)
test_res <- recover_types(dummy_fun)
source('C:/Users/juraj/git_hub/recovery/R/recover_types.R')
test_res <- recover_types(dummy_fun)
body(dummy_fun)[4]
body(dummy_fun)[[3]]
body(dummy_fun)[[4]]
source('C:/Users/juraj/git_hub/recovery/R/recover_types.R')
test_res <- recover_types(dummy_fun)
View(test_res)
source('C:/Users/juraj/git_hub/recovery/R/recover_types.R')
test_res <- recover_types(dummy_fun)
View(test_res)
source('C:/Users/juraj/git_hub/recovery/R/recover_types.R')
test_res <- recover_types(dummy_fun)
source('C:/Users/juraj/git_hub/recovery/R/recover_types.R')
test_res <- recover_types(dummy_fun)
View(test_res)
test_res <- recover_types(dummy_fun)
View(test_res)
test_res[["Failing line"]]
as.character(test_res[["Failing line"]])
as.character(test_res[["Failing line"]])
View(test_res)
parallel_fun <- function(x,y,z, length.out ){
magical <- function(x,y,z){
x <- x + 5
z <- 12
x <- y + z
return(x)
}
res <-  foreach(i = 1:length.out ) %dopar%
{
weirdness <- magical(x,y,z)
}
return(res)
}
test_res <- recover_types( parallel_fun,
args = list( x = 5,
y ="fly",
z = 2,
length.out = 10 ))
View(test_res)
View(test_res)
test_res[["Failing line"]]
as.character(res <- foreach(i = 1:length.out) %dopar% {
weirdness <- magical(x, y, z)
})
as.character(test_res[["Failing line"]])
dummy_fun <- function( x = 2, y = "death", z = 5 )
{
x <- x + 5
z <- 12
x <- y + 5
return(x)
}
test_res <- recover(dummy_fun)
View(test_res)
source('C:/Users/juraj/git_hub/recovery/R/recover.R')
<- recover(dummy_fun)
recover(dummy_fun)
test <- recover(dummy_fun)
source('C:/Users/juraj/git_hub/recovery/R/recover.R')
test <- recover(dummy_fun)
View(test)
source('C:/Users/juraj/git_hub/recovery/R/recover.R')
test <- recover(dummy_fun)
View(test)
View(test)
as.character(test[["Failing line"]])
View(test)
parallel_fun <- function(x,y,z, length.out ){
magical <- function(x,y,z){
x <- x + 5
z <- 12
x <- y + z
return(x)
}
res <-  foreach(i = 1:length.out ) %dopar%
{
# if you dont assign here the test fails
weirdness <- magical(x,y,z)
}
return(res)
}
test_res <- recover( parallel_fun,
args = list( x = 5,
y ="fly",
z = 2,
length.out = 10 ))
View(test_res)
as.character(test_res[["Failing line"]])
View(test_res)
test_res <- recover("dummy_fun")
View(test_res)
source('C:/Users/juraj/git_hub/recovery/R/recover.R')
test_res <- recover("dummy_fun")
View(test_res)
eval(as.name("dummy_fun"))
source('C:/Users/juraj/git_hub/recovery/R/recover.R')
test_res <- recover("dummy_fun")
test_res <- partial(dummy_fun, args = list(x = 2, y = "death", z = 5),
eval.point = "x <- x",
full.scope = TRUE )
View(test_res)
test_res <- partial(dummy_fun, args = list(x = 2, y = "death", z = 5),
eval.point = "x <- x + 5",
full.scope = TRUE )
test_res <- partial(dummy_fun, args = list(x = 2, y = "death", z = 5),
eval.point = "x <- x + ",
full.scope = TRUE )
test_res <- partial(dummy_fun, args = list(x = 2, y = "death", z = 5),
eval.point = "x <- y ",
full.scope = TRUE )
View(test_res)
test_res <- partial(dummy_fun, args = list(x = 2, y = "death", z = 5),
eval.point = "x <- y + 5 ",
full.scope = TRUE )
source('C:/Users/juraj/git_hub/recovery/R/partial.R')
test_res <- partial(dummy_fun, args = list(x = 2, y = "death", z = 5),
eval.point = "x <- y + 5 ",
full.scope = TRUE )
test_res <- partial(dummy_fun, args = list(x = 2, y = "death", z = 5),
eval.point = "x <- y + 5",
full.scope = TRUE )
View(test_res)
test_res <- partial(dummy_fun, args = list(x = 2, y = "death", z = 5),
eval.point = "x <- x + 5",
full.scope = TRUE )
View(test_res)
test_res <- partial(dummy_fun, args = list(x = 2, y = "death", z = 5),
eval.point = "x <- x + 5",
full.scope = TRUE )
View(test_res)
test_res
covr::codecov()
covr::package_coverage()
covr::package_coverage()
covr::package_coverage()
partial( dummy_fun, eval.point = "x <- x ",
fix.pattern = FALSE )
source('C:/Users/juraj/git_hub/recovery/R/partial.R')
partial( dummy_fun, eval.point = "x <- x ",
fix.pattern = FALSE )
partial( dummy_fun, eval.point = "x <- y +",
fix.pattern = FALSE )
partial( dummy_fun, eval.point = "x <- x",
fix.pattern = FALSE )
partial( dummy_fun, eval.point = "x <- ",
fix.pattern = FALSE )
covr::package_coverage()
covr::package_coverage()
attributes(list("something"))
attributes()
?attributes()
x <- list("something")
attributes(x)
x <- list("something","something_else")
attributes(x)
x <- list(x = "something",y = "something_else")
attributes(x)
dummy_fun <- function( x = 2, y = "death", z = 5 )
{
x <- x + 5
z <- 12
x <- y + 5
x <- list(xy = "something")
z <- "something_else"
z <- "ensure_that_you_never_go_over_the_end"
return(x)
}
partial_test( dummy_fun,
args = list(y = 2),
eval.point = 8,
compare.object = list(xy = "something"),
partial.matching = TRUE)
covr::package_coverage()
covr::codecov(token = TOKEN)
devtools::check()
dummy_fun <- function( x )
{
x = x + 2
z = x + 3
lister <- function() ls()
stop()
print("Hello, github!")
return(x)
}
recover(fun = dummy_fun)
dummy_fun <- function( x )
{
x = x + 2
z = x + 3
lister <- function() ls()
print("Hello, github!")
return(x)
}
recover(fun = dummy_fun)
dummy_fun <- function( x = 2 )
{
x = x + 2
z = x + 3
lister <- function() ls()
print("Hello, github!")
return(x)
}
recover(fun = dummy_fun)
see <- recover(fun = dummy_fun)
source('C:/Users/juraj/git_hub/recovery/R/recover.R')
see <- recover(fun = dummy_fun)
dummy_fun <- function( x = 2 )
{
x = x + 2
z = x + 3
lister <- function() ls()
stop()
print("Hello, github!")
return(x)
}
recover(fun = dummy_fun)
devtools::check()
dummy_fun <- function( x,
y = "this_crashes",
z = 2 )
{
# these will run
x = x + 2
z = x + 3
# this will crash due to y being type character
x = y + z
return(x)
}
recover(fun = dummy_fun)
dummy_fun <- function( x,
y = "this_crashes",
z = 2 )
{
# these will run
x = x + 2
z = x + 3
x = y + z
return(x)
}
recover(fun = dummy_fun)
dummy_fun <- function( x = 2,
y = "this_crashes",
z = 2 )
{
# these will run
x = x + 2
z = x + 3
# this will crash due to y being type character
x = y + z
return(x)
}
recover(fun = dummy_fun)
devtools::check()
devtools::check()
devtools::check()
dummy_function <- function( x,     y = 2,    z,
a = 5, b = TRUE, c = 10 )
{
x_2 <- x + y - z
TRUTHFULLY <- b
negative <- (c-a) > 0
return(y)
}
# works with function body line number
partial( fun = dummy_function,
args = list(x = 10,z = FALSE, b = FALSE),
eval.point = 1)
dummy_function <- function( x,     y = 2,    z,
a = 5, b = TRUE, c = 10 )
{
x_2 <- x + y - z
TRUTHFULLY <- b
negative <- (c-a) > 0
return(y)
}
# works with function body line number
partial( fun = dummy_function,
args = list(x = 10,z = FALSE, b = FALSE),
eval.point = 2)
partial_test( fun = dummy_function,
args = list(x = 10,z = FALSE, b = FALSE),
eval.point = 1,
compare.obj =  12)
partial_test( fun = dummy_function,
args = list(x = 10,z = FALSE, b = FALSE),
eval.point = 1,
compare.obj =  c(12))
partial_test( fun = dummy_function,
args = list(x = 10,z = FALSE, b = FALSE),
eval.point = 1,
compare.obj =  NA)
partial_test( fun = dummy_function,
args = list(x = 10,z = FALSE, b = FALSE),
eval.point = 3 )
partial( fun = dummy_function,
args = list(x = 10,z = FALSE, b = FALSE),
eval.point = 3 )
partial_test( fun = dummy_function,
args = list(x = 10,z = FALSE, b = FALSE),
eval.point = 3,
compare.object = FALSE)
partial( fun = dummy_function,
args = list(x = 10,z = FALSE, b = FALSE),
eval.point = "negat" )
# works with partial string matching
partial_test( fun = dummy_function,
args = list(x = 10,z = FALSE, b = FALSE),
eval.point = "negat",
compare.object = TRUE )
# and semi-full string matching
partial_test( fun = dummy_function,
args = list(x = 10,z = FALSE, b = FALSE),
eval.point = "negative <- ",
compare.object = TRUE)
devtools::check()
covr::codecov(token = TOKEN)
devtools::check()
devtools::build()
source('C:/Users/juraj/git_hub/recovery/R/recover.R')
dummy_fun <- function( x = 2, y = "death", z = 5, some_condition = TRUE )
{
if(some_condition){
x <- x + 5
z <- 12
x <- y + 5
}
return(x)
}
source('C:/Users/juraj/git_hub/recovery/R/recover.R')
recover(dummy_fun)
View(dummy_fun)
source('C:/Users/juraj/git_hub/recovery/R/recover.R')
recover(dummy_fun)
recover(dummy_fun) -> see
see
as.function( see)
as.function( list(see))
eval( as.function( list(see)))
do.call( as.function( list(see)), list(x = ))
do.call( as.function( list(see)), list(x = 3, y = 2, z = 2))
do.call( as.function( list(see)), list(x = 3, y = 2, z = 2))
as.function( list(see))
head( as.function( list(see)))
formals( as.function( list(see)))
formals( as.function( list(see))) <- c("x","y", "z")
formals( as.function( list(see))) <- list("x","y", "z")
formals( as.function( list(see))) <- list(x= 2,y = 2, z = 2)
viewable <- as.function( list(see))
formals( viewable) <- list(x= 2,y = 2, z = 2)
source('C:/Users/juraj/git_hub/recovery/R/recover.R')
recover(dummy_fun) -> see
source('C:/Users/juraj/git_hub/recovery/R/recover.R')
recover(dummy_fun) -> see
View(see)
eval(see)
do.call(see)
do.call(see, args = list())
source('C:/Users/juraj/git_hub/recovery/R/recover.R')
recover(dummy_fun) -> see
source('C:/Users/juraj/git_hub/recovery/R/recover.R')
recover(dummy_fun) -> see
View(see)
recover(see)
weird_fun <- function (x = 2, y = "death", z = 5, some_condition = TRUE)
{
x <- x + 5
z <- 12
x <- y + 5
}()
recover(weird_fun)
weird_fun <- function (x = 2, y = "death", z = 5, some_condition = TRUE)
{
x <- x + 5
z <- 12
x <- y + 5
}
recover(weird_fun)
weird_fun <- function (x = 2, y = "death", z = 5, some_condition = TRUE)
{
x <- x + 5
z <- 12
x <- y + 5
}()
weird_fun
weird_fun()
body(weird_fun)
body(weird_fun)[5]
body(weird_fun)[4]
body(weird_fun)[3]
body(weird_fun)[2]
body(weird_fun)[1]
head(weird_fun())
head(weird_fun)
head(weird_fun)[6]
length(head(weird_fun))
?grep()
weird_fun
head(weird_fun)
head(weird_fun)[6]
head(weird_fun)[6] <- "}"
body(weird_fun)[6] <- "}"
weird_fun
body(weird_fun)
body(weird_fun)[1]
body(weird_fun)[2]
body(weird_fun)[1]
head(weird_fun)[1]
head(weird_fun)
head(weird_fun)[2]
head(weird_fun)[6]
head(weird_fun)[6] <- NULL
head(weird_fun)[6] <- 1
as.character(head(weird_fun))
as.character(head(weird_fun))[6]
as.character(head(weird_fun))[6] <- "}"
source('C:/Users/juraj/git_hub/recovery/R/recover.R')
recover(see)
recover(dummy_fun)
recover(dummy_fun) -> see
as.function(list(see))
see
as.list(see)
as.function( as.list(see))
as.function( list(see))
as.function( paste(see))
as.function( list(paste(see)))
see
paste(see)
paste(see, col = "")
?stringr::str_c()
paste(see, collapse = 1)
paste(see, collapse = TRUE)
paste(see, collapse = )
?paste(see, collapse = )
?paste(see, collapse = " ")
paste(see, collapse = " ")
parse( text = paste(see, collapse = " "))
as.function(list(paste(see, collapse = " ")))
source('C:/Users/juraj/git_hub/recovery/R/recover.R')
recover(dummy_fun) -> see
see
length(see)
source('C:/Users/juraj/git_hub/recovery/R/recover.R')
recover(dummy_fun) -> see
see
see[6] <- substitute(})
see[6] <- substitute(quote(}))
see[6]
see[6] <- }
see[6] <- \\}
see[6] <- "}"
see[6]
see
source('C:/Users/juraj/git_hub/recovery/R/recover.R')
recover(dummy_fun) -> see
source('C:/Users/juraj/git_hub/recovery/R/recover.R')
recover(dummy_fun) -> see
source('C:/Users/juraj/git_hub/recovery/R/recover.R')
recover(dummy_fun) -> see
source('C:/Users/juraj/git_hub/recovery/R/recover.R')
recover(dummy_fun) -> see
see
source('C:/Users/juraj/git_hub/recovery/R/recover.R')
recover(dummy_fun) -> see
source('C:/Users/juraj/git_hub/recovery/R/recover.R')
recover(dummy_fun) -> see
see
as.function( see)
as.function( list(see))
parse(text = see)
eval( parse(text = see))
see <- eval( parse(text = see))
see
source('C:/Users/juraj/git_hub/recovery/R/recover.R')
recover(dummy_fun) -> see
see
see()
source('C:/Users/juraj/git_hub/recovery/R/recover.R')
recover(dummy_fun) -> see
View(see)
View(see)
test_res <- recover( dummy_fun,
args = list( x = 5,
y ="fly",
z = 2 ),
return.all = FALSE )
View(test_res)
source('C:/Users/juraj/git_hub/recovery/R/recover.R')
source('C:/Users/juraj/git_hub/recovery/R/partial.R')
source('C:/Users/juraj/git_hub/recovery/R/recover.R')
source('C:/Users/juraj/git_hub/recovery/R/recover_types.R')
dummy_fun <- function( x = 2, y = "death", z = 5 )
{
x <- x + 5
z <- 12
x <- y + 5
return(x)
}
test_res <- recover_types(dummy_fun)
View(test_res)
attributes(matrix(rnorm(10),5,2))
see <- attributes(matrix(rnorm(10),5,2))
View(see)
